ðŸ”¹ 1) Starting heartbeat & timeout monitors (5s interval)â€¦
    â†’ MON_PID=19309

ðŸ”¹ 2) Testing CLI search modesâ€¦
   â€¢ match â†’ /home/omaralaa927/Distributed-Web-Crawling/distributed_crawler/master_node.py:161: DeprecationWarning: Received 'size' via a specific parameter in the presence of a 'body' parameter, which is deprecated and will be removed in a future version. Instead, use only 'body' or only specific parameters.
  resp = es.search(index="web_pages", body=q, size=size)
/home/omaralaa927/Distributed-Web-Crawling/distributed_crawler/master_node.py:161: ElasticsearchWarning: Elasticsearch built-in security features are not enabled. Without authentication, your cluster could be accessible to anyone. See https://www.elastic.co/guide/en/elasticsearch/reference/7.17/security-minimal-setup.html to enable security.
  resp = es.search(index="web_pages", body=q, size=size)
Found 2 results for 'example' (mode=match, size=2):
 â€¢ https://www.youtube.com/t/privacy
 â€¢ https://www.iana.org/domains/example
   â€¢ boolean â†’ /home/omaralaa927/Distributed-Web-Crawling/distributed_crawler/master_node.py:161: DeprecationWarning: Received 'size' via a specific parameter in the presence of a 'body' parameter, which is deprecated and will be removed in a future version. Instead, use only 'body' or only specific parameters.
  resp = es.search(index="web_pages", body=q, size=size)
/home/omaralaa927/Distributed-Web-Crawling/distributed_crawler/master_node.py:161: ElasticsearchWarning: Elasticsearch built-in security features are not enabled. Without authentication, your cluster could be accessible to anyone. See https://www.elastic.co/guide/en/elasticsearch/reference/7.17/security-minimal-setup.html to enable security.
  resp = es.search(index="web_pages", body=q, size=size)
Found 2 results for 'example' (mode=boolean, size=2):
 â€¢ https://www.youtube.com/t/privacy
 â€¢ https://www.iana.org/domains/example
   â€¢ phrase â†’ /home/omaralaa927/Distributed-Web-Crawling/distributed_crawler/master_node.py:161: DeprecationWarning: Received 'size' via a specific parameter in the presence of a 'body' parameter, which is deprecated and will be removed in a future version. Instead, use only 'body' or only specific parameters.
  resp = es.search(index="web_pages", body=q, size=size)
/home/omaralaa927/Distributed-Web-Crawling/distributed_crawler/master_node.py:161: ElasticsearchWarning: Elasticsearch built-in security features are not enabled. Without authentication, your cluster could be accessible to anyone. See https://www.elastic.co/guide/en/elasticsearch/reference/7.17/security-minimal-setup.html to enable security.
  resp = es.search(index="web_pages", body=q, size=size)
Found 2 results for 'example' (mode=phrase, size=2):
 â€¢ https://www.youtube.com/t/privacy
 â€¢ https://www.iana.org/domains/example

ðŸ”¹ 3) Testing CLI status (crawler & indexer heartbeat)â€¦
/home/omaralaa927/Distributed-Web-Crawling/distributed_crawler/master_node.py:186: ElasticsearchWarning: Elasticsearch built-in security features are not enabled. Without authentication, your cluster could be accessible to anyone. See https://www.elastic.co/guide/en/elasticsearch/reference/7.17/security-minimal-setup.html to enable security.
  indexed = es.count(index='web_pages')['count']
--- System Status ---
Pages crawled: 93
Pages indexed: 607
Total tasks: 6
Active crawlers: 1
Indexer active: True (last seen Mon May  5 22:40:52 2025)
    âœ“ Crawlers OK
    âœ“ Indexer OK

ðŸ”¹ 4) Testing Indexer API endpointsâ€¦
   â€¢ /search?mode=match â†’ 200   âœ“
   â€¢ /search?mode=boolean â†’ 200   âœ“
   â€¢ /search?mode=phrase â†’ 200   âœ“
   â€¢ /metrics â†’ 200   âœ“

ðŸ”¹ 5) Testing fault-tolerant indexing retryâ€¦
    â€¢ state = SUCCESS

ðŸ”¹ 6) Simulating ES DOWN (block via iptables)â€¦
--- System Status ---
Pages crawled: 93
Pages indexed: 0
Total tasks: 6
Active crawlers: 1
Indexer active: False (last seen Mon May  5 22:41:07 2025)
    âœ“ DOWN detected
ðŸ”¹ Restoring ES accessâ€¦
/home/omaralaa927/Distributed-Web-Crawling/distributed_crawler/master_node.py:186: ElasticsearchWarning: Elasticsearch built-in security features are not enabled. Without authentication, your cluster could be accessible to anyone. See https://www.elastic.co/guide/en/elasticsearch/reference/7.17/security-minimal-setup.html to enable security.
  indexed = es.count(index='web_pages')['count']
--- System Status ---
Pages crawled: 93
Pages indexed: 607
Total tasks: 6
Active crawlers: 1
Indexer active: True (last seen Mon May  5 22:41:33 2025)
    âœ“ UP detected

ðŸ”¹ 7) Testing stale-task timeout & requeueâ€¦
./test_all_features.sh: line 95: mongo: command not found
ðŸ§¹ Cleaning upâ€¦
